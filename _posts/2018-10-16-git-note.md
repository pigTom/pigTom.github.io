---
title: git usage
layout: post
author: pigTom
subtitle: 学习Git时的一些笔记，当自己忘记时可随时翻阅一下
date: 2018-10-17 14:47:00
---
# git usage
### BACKGROUND
&emsp;&emsp;
Linux之父Linus是坚定的CVS反对者，他也两样地反对SVN。这就是为什么在1991-
2002这十余年间，Linus宁可以手工修补文件的方式维护代码，也迟迟不愿意使用CVS的原因。
我想在当时要想对说Linus使用CVS只有一个办法：把CVS服务器请进Linus的卧室，
并对外配以千兆带宽。

&emsp;&emsp;
2002年到2005年，Linus顶着开源社区精英们口诛笔伐的压力，选择了一个商业版本控制系统BitKeeper
作为Linux内核的代码管理工具。BitKeper不同于CVS和SVN等集中式版本控制工具，
而是一款分布式版本控制系统工具。

&emsp;&emsp;
分布式版本控制系统最大的反传统之处在于，可以不需要集中式的版本库，
每个人都工作在通过克隆建立在本地版本库中。也就是说每个人都拥有一个完整的版本库，
查看日志、提交、创建里程碑和分支、合并分支、回退等所有操作都直接在本地完成而不需要网络连接。
每个人都是本地版本库的主人，不再有谁能提交谁不能提交的限制，
加上多样的协同工作模型（版本库间推送、拉回、以及补丁文件的传送等）让开源项目的参与度有爆发式增长。

&emsp;&emsp;
2005年发生的一件事最终导致了Git的诞生。在2005年4月，Andrew Tridgell（即大名鼎鼎的Samba的作者）
试图对BitKeeper进行反向工程，以开发一个能与BigKeeper交互的开源工具。
这激怒了BitKeeper软件的所有者BitMover公司，要求收回对Linux社区免费使用BitKeeper的授权。迫不得已，
Linus选择了自己开发一个分布式版本控制工具以替代BitKeeper。以是Git诞生过程中的大事记：
* 2005年4月3日，开始开发Git。
* 2005年4月6日，项目发布。
* 2005年4月7日，Git就可以作为自身的版本控制工具了。
* 2005年4月18日，发生第一个多分合并。
* 2005年6月16日，Linux内核2.6.12发布，那时Git已经在维护Linux内核源代码了。

&emsp;&emsp;
Linus以一个文件系统专家和内核设计者的视角对Git进行了设计，
其独特的设计让Git拥有非凡的性能和最为优化的存储能力。完成原型设计后，在2005年7月26日，
Linus功成身退，将Git的维护交给另外一个Git的主要贡献者Junio C Hamano，直到现在。

&emsp;&emsp;
最初的Git除了一些核心的命令以外，其他的都用脚本语言开发，而且每个功能作为一个独立的命令，
例如克隆操作用git-clone，提交操作用git-commit。这导致Git拥有庞大的命令集，
使用习惯也和其他版本控制系统格格不入。随着Git的开发者和使用者的增加，Git也在逐渐演变，
例如到1.5.4版本时，将一百多个独立的命令封装为一个git命令，使它看起来更像一个独立的工具，
也使Git更贴近于普通用户的使用习惯。

&emsp;&emsp;
经过短短几年的发展，众多的开源项目都纷纷从SVN或其他版本控制系统迁移到Git。
虽然版本控制系统的迁移过程是痛苦的，但是因为迁移到Git会带来开发效率的极大提升，
以及巨大的效益，所以很快就会忘记迁移的痛苦过程，而且很快就会适应新的工作模式。
在Git的官方网站上列出了几个使用Git的重量级项目，每一个都是人们耳熟能详的，
除了Git和Linux内核外，还有Perl，Eclipse、Gnome、KDE、Qt、Ruby on Rails、Android、
PostgreSQL、Debian、Z.org，当然还有GigHub的上百万个项目。

&emsp;&emsp;
Git虽然是在Linux下开发的，但现在已经可以跨平台运行在所有主流的操作系统上，
包括Linux、Mac OS X和Windows等。可以说每一个使用计算机的用户都可以分享Git带来的便利和快乐。
## git配置
### git 设置用户信息
	$ git config --global user.name "your name"
	$ git config --global user.email username@xxx.com
	在用户配置文件中配置用户名和用户邮箱
	如果拥有系统管理员权限可以设置系统默认的用户名和邮箱
	$ sudo git config --system user.name "your name"
	$ sudo git config --system user.email username@xxx.com
### git 设置别名
	$ git config --global alias.st status
	$ git config --global alias.ci commit
	$ git config --global alias.co checkout
	$ git config --global alias.br branch
	如果有系统管理员权限，可以设置所有全局别名，让这个系统下的所有用户可以使用。
	$ sudo config --system alias.st status
	...
### git 开启颜色
	$ git config --global color.ui true	
### 克隆
	git clone url
	the `url` sometimes like `https://github.com/username/repository.git`
### 保存工作进度 
 	$ git stash 
	$ git checkout <new_branch>
	新的工作分支修改完毕后，再切换回当前分支，调用git stash pop命令则可恢复之前保存的工作进度
	$ git checkout <orignal_branch>
	$ git stash pop
### 更新
	$ git fetch
	如果本地已经克隆过一个Git项目的版本库，直接在工作区中更新，以获得最新版的Git。
### 清理
	$ git clean -fdx
	$ git reset --hard
	执行清理工作，避免前一次的编译的遗留文件对编译造成影响。注意，该操作会丢弃本地对Git代码的改动。
### 里程碑
	$ git tag
	v1.7.4.1
	查看Git的里程碑，选择最新的版本进行安装，例如v1.7.4.1
### 检出
	$ git checkout v1.7.4.1
	检出该版本的代码
### 重写提交说明
	$ git commit --amend
	git commmit 这个命令如果没有带-m参数，会进入提交说明编辑界面，修改原来的提交说明，直到满意为止。
	如果要修改某个历史提交的说明，Git也可以实现，但要用到另外一个命令：变基命令。
例如，要修改<commit-id>所标识的提交说明，执行下面的命令，并在弹出的变基索引文件中修改相应提交前面动作的关键字。
`$ git rebase -i <commit-id>`

### 工作进度保存
	$ git stash
	$ git checkout <new_branch>
	通过上述操作可以将当前工作分支切换到新分支
	$ git checkout <orignal_branch>
	$ git stash pop
	切换回之前的分支，调用git stash pop命令恢复之前保存的工作进度





















































